{% extends 'base.html' %}
{% block title %}Partner decks{% endblock %}
{% block opengraph %}{% endblock %}{# don't generate one for partners #}
{% block body %}
<h1>Partner decks</h1>
<p><span class="badge bg-danger">Danger</span> Partners are not well supported right now. Many spots in the UI return inconsistent or confusing results in the face of multiple commanders. This page is a temporary fix, listing every deck with 2 commanders.</p>
<div class="container">
  <table class="table mb-3">
    <tr>
      <th>Name</th>
      <th>Commander 1</th>
      <th>Commander 2</th>
    </tr>
  {% for deck in decks %}
    <tr>
      <td>{{ deck.name }}</td>
      <td><a href="{% url 'cmdr-single' deck.commanders.0.card.id %}">{{ deck.commanders.0.card.name }}</a></td>
      <td><a href="{% url 'cmdr-single' deck.commanders.1.card.id %}">{{ deck.commanders.1.card.name }}</a></td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="3">No partner decks found.</td>
    </tr>
  {% endfor %}
  </table>
  <p>
    {% if decks.has_previous %}
    <a href="?page=1">first</a>
    <a href="?page={{ decks.previous_page_number }}">previous</a>
    {% endif %}
    (page {{ decks.number }} of {{ decks.paginator.num_pages }})
    {% if decks.has_next %}
    <a href="?page={{ decks.next_page_number }}">next</a>
    <a href="?page={{ decks.paginator.num_pages }}">last</a>
    {% endif %}
  </p>
</div>
{% endblock %}